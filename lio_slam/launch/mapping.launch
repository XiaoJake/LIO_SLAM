<!-- 
    
    just_lidar_imu.bag
    3_circle_without_tf.bag
    <node pkg="rosbag" type="play" name="player"  args="clock /home/xiaojake/Desktop/3_circle_without_tf.bag"/>
    <include file="$(find robot_pose_ekf)/my_robot_pose_ekf.launch">

    </include>

 -->

<launch>

    <arg name="mode_debug" default="true" />
    <!-- 当传感器数据源来自bag包时,设为true  真实机器人跑,用false  -->
    <param name="/use_sim_time" value="true" />
    <!-- <param name="cloud_topic" type="string" value="/velodyne_points" /> -->

    <param name="robot_description" textfile="$(find lio_slam)/urdf/my_robot.urdf" />
    <node pkg="robot_state_publisher" type="robot_state_publisher" name="state_publisher"/>

    <include file="$(find robot_pose_ekf)/my_robot_pose_ekf.launch"/>

    <node pkg="lio_slam"  type="data_pretreat_node"  name="data_pretreat_node"  output="screen"></node>
    <node pkg="lio_slam"  type="front_end_node"  name="front_end_node"  output="screen" required="true"></node>
    <node pkg="lio_slam"  type="back_end_node"  name="back_end_node"  output="screen"></node>
    <node pkg="lio_slam"  type="loop_closing_node"  name="loop_closing_node"  output="screen"></node>
    <node pkg="lio_slam"  type="viewer_node"  name="viewer_node"  output="screen"></node>

    <group if="$(arg mode_debug)">
        <node launch-prefix="nice" pkg="rviz" type="rviz" name="rviz" args="-d $(find lio_slam)/rviz/mapping_no_loop.rviz" />
        <node pkg="rosbag" type="play" name="player"  args="--clock /home/xiaojake/Desktop/just_lidar_imu_3.bag"/>
    </group>

</launch>